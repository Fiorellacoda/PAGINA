<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ONDA - Contacto</title>
<style>
/* Reset */
* { margin: 0; padding: 0; box-sizing: border-box; }

/* Tipograf√≠a y colores */
body { font-family: Arial, sans-serif; line-height: 1.6; color: #0d1b2a; }

/* ====== HEADER ====== */
header {
  background-color: #0d1b2a; color: white;
  display: flex; align-items: center; justify-content: space-between;
  padding: 12px 20px; position: relative;
}
.logo { font-size: 1.8rem; font-weight: bold; }

/* Toggle (checkbox hack) */
.nav-toggle { display: none; }
.menu-toggle {
  display: none; font-size: 1.8rem; cursor: pointer; user-select: none;
}

/* Nav */
nav {
  display: flex; align-items: center; gap: 20px;
}
nav a, summary.dropbtn {
  color: white; text-decoration: none; padding: 10px; cursor: pointer;
}
nav a:hover, details.dropdown:hover > summary.dropbtn {
  background-color: #1b263b; border-radius: 5px;
}

/* Dropdown con <details> */
details.dropdown { position: relative; }
summary.dropbtn { list-style: none; }
summary.dropbtn::-webkit-details-marker { display: none; }
.dropdown-content {
  position: absolute; top: 100%; left: 0; min-width: 200px;
  background: white; color: #0d1b2a; display: none;
  box-shadow: 0 8px 16px rgba(0,0,0,0.2); z-index: 999;
}
details[open] > .dropdown-content { display: block; }
.dropdown-content a {
  color: #0d1b2a; padding: 10px; display: block; text-decoration: none;
}
.dropdown-content a:hover { background-color: #e0e0e0; }

/* ====== CONTACTO ====== */
.section { padding: 60px 20px; text-align: center; }
.section h2 { font-size: 2rem; margin-bottom: 20px; }

.container {
  max-width: 600px;
  margin: 0 auto;
  background: #f4f4f4;
  padding: 30px 20px;
  border-radius: 8px;
}
.container p { margin-bottom: 20px; }

form input, form textarea, form button {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  font-size: 1rem;
  border-radius: 5px;
  border: 1px solid #ccc;
}
textarea { min-height: 140px; resize: vertical; }

button, .btn-presupuesto {
  background-color: #0d1b2a;
  color: white;
  border: none;
  cursor: pointer;
  font-weight: bold;
  padding: 12px;
  border-radius: 5px;
}
button:hover, .btn-presupuesto:hover { background-color: #1b263b; }

.info-contacto {
  margin-top: 30px;
  font-size: 1rem;
  line-height: 1.5;
  text-align: left;
}

/* Mensajes de estado */
#form-status {
  margin-top: 10px;
  text-align: left;
  font-size: 0.95rem;
}
.status-ok { color: #0a7d2e; }
.status-err { color: #b00020; }

/* ====== FOOTER ====== */
footer {
  background-color: #0d1b2a; color: white;
  text-align: center; padding: 20px; margin-top: 40px;
}

/* ====== RESPONSIVE ====== */
@media (max-width: 768px) {
  .menu-toggle { display: block; }

  nav {
    display: none; flex-direction: column; background-color: #0d1b2a;
    width: 100%; position: absolute; top: 60px; left: 0; z-index: 1000;
  }
  .nav-toggle:checked ~ nav { display: flex; }

  .dropdown-content { position: static; box-shadow: none; }
  details[open] > .dropdown-content { display: block; }

  nav a, summary.dropbtn { padding: 14px 16px; }
}

/* Accesibilidad visual peque√±a para campo oculto (honeypot) */
.hp { position: absolute; left: -9999px; opacity: 0; }
</style>
</head>
<body>

<header>
  <div class="logo">ONDA</div>

  <!-- Checkbox que controla el men√∫ -->
  <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-hidden="true" />

  <!-- Bot√≥n hamburguesa -->
  <label for="nav-toggle" class="menu-toggle" aria-label="Abrir o cerrar men√∫">&#9776;</label>

  <nav id="nav-links" aria-label="Navegaci√≥n principal">
    <a href="index.html">Inicio</a>
    <details class="dropdown">
      <summary class="dropbtn" aria-haspopup="true" aria-expanded="false">Servicios ‚ñæ</summary>
      <div class="dropdown-content" role="menu">
        <a href="creacion.html" role="menuitem">Creaci√≥n de P√°ginas Web</a>
        <a href="automatizaciones.html" role="menuitem">Automatizaciones</a>
        <a href="dashboard.html" role="menuitem">Dashboards Interactivos</a>
      </div>
    </details>
    <a href="contacto.html" aria-current="page">Contacto</a>
  </nav>
</header>

<section class="section">
  <h2>Contacto</h2>
  <div class="container">
    <p>Pod√©s contactarme a trav√©s del siguiente formulario o por los medios que figuran abajo.</p>

    <form id="contactoForm" aria-describedby="form-status">
      <!-- Honeypot anti-spam (dejar oculto) -->
      <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off" />

      <input type="text" name="nombre" placeholder="Tu nombre" required aria-label="Nombre" />
      <input type="email" name="email" placeholder="Tu correo" required aria-label="Correo electr√≥nico" />
      <textarea name="mensaje" placeholder="Tu mensaje" required aria-label="Mensaje"></textarea>

      <button id="submitBtn" type="submit" aria-label="Enviar formulario">Enviar</button>
      <div id="form-status" role="status" aria-live="polite"></div>
    </form>

    <button class="btn-presupuesto" onclick="window.location.href='index.html#cotizacion'">Solicitar presupuesto</button>

    <div class="info-contacto">
      <h3>Informaci√≥n de contacto</h3>
      <p>üìß Email: fiorella@ejemplo.com</p>
      <p>üì± Tel√©fono: +54 9 11 5735-9777</p>
      <p>üìç Ubicaci√≥n: Buenos Aires, Argentina</p>
    </div>
  </div>
</section>

<footer>
  <p>¬© 2025 ONDA - Todos los derechos reservados</p>
</footer>

<script>
/**
 * 1) PEG√Å TU URL DE APPS SCRIPT AC√Å:
 * Ejemplo: const ENDPOINT = 'https://script.google.com/macros/s/AKfycbxxxxxxxx/exec';
 */
const ENDPOINT = 'PEG√Å_AC√Å_TU_URL_DE_APPS_SCRIPT';

/**
 * Opcional: activar verificaci√≥n b√°sica de email
 */
function isValidEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(String(email).toLowerCase());
}

const form = document.getElementById('contactoForm');
const statusBox = document.getElementById('form-status');
const submitBtn = document.getElementById('submitBtn');

form.addEventListener('submit', async function(e) {
  e.preventDefault();

  // Limpia mensajes previos
  statusBox.textContent = '';

  const fd = new FormData(form);
  const payload = Object.fromEntries(fd.entries());

  // Honeypot: si est√° completo, abortar (bot)
  if (payload.company && payload.company.trim() !== '') {
    return; // silencioso
  }

  // Validaciones m√≠nimas
  if (!payload.nombre || !payload.email || !payload.mensaje) {
    statusBox.textContent = 'Por favor, complet√° todos los campos.';
    statusBox.className = 'status-err';
    return;
  }
  if (!isValidEmail(payload.email)) {
    statusBox.textContent = 'El correo no parece v√°lido.';
    statusBox.className = 'status-err';
    return;
  }

  // UI: deshabilitar bot√≥n y mostrar estado
  submitBtn.disabled = true;
  submitBtn.textContent = 'Enviando‚Ä¶';
  statusBox.textContent = 'Enviando tu mensaje‚Ä¶';
  statusBox.className = '';

  try {
    const res = await fetch(ENDPOINT, {
      method: 'POST',
      mode: 'cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        nombre: payload.nombre.trim(),
        email: payload.email.trim(),
        mensaje: payload.mensaje.trim()
      })
    });

    // Intentar decodificar JSON; si no viene, manejar como error
    let out = {};
    try { out = await res.json(); } catch (_) {}

    if (res.ok && out.ok) {
      statusBox.textContent = 'Mensaje enviado. ¬°Gracias por contactarte!';
      statusBox.className = 'status-ok';
      form.reset();
    } else {
      statusBox.textContent = 'No se pudo enviar el mensaje. Intenta m√°s tarde.';
      statusBox.className = 'status-err';
      console.error('Respuesta del servidor:', out);
    }
  } catch (err) {
    console.error(err);
    statusBox.textContent = 'Error de red. Verifica tu conexi√≥n e intenta de nuevo.';
    statusBox.className = 'status-err';
  } finally {
    submitBtn.disabled = false;
    submitBtn.textContent = 'Enviar';
  }
});
</script>

</body>
</html>
